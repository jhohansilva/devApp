<ons-page>
    <ons-toolbar>
        <div class="left">
            <ons-back-button>Home</ons-back-button>
        </div>
        <div class="center"></div>
    </ons-toolbar>
    <main>
        <ons-card class="factura card-full compact">
            <div class="header">
                <div class="img">
                    <div class="sub-img">
                        <ons-icon size="22px" icon="fa-wallet"></ons-icon>
                    </div>
                </div>
                <div class="titulo">
                    <div class="sub">
                        <div class="first">Crear clasificado</div>
                    </div>
                </div>
            </div>
            <div class="content">
                <p>
                    <label>Conjunto:</label>
                    <select id="conjuntos">
                        <option value="0" selected disabled>Seleccione</option>
                    </select>
                </p>
                <p>
                    <label>Tipo:</label>
                    <select id="tipoClasificado">
                        <option value="0" selected disabled>Seleccione</option>
                        <option value="1">Comprar</option>
                        <option value="2">Vender</option>
                        <option value="3">Alquilar</option>
                        <option value="4">Ofertar servicios</option>
                    </select>
                </p>
                <p>
                    <label>Categoria:</label>
                    <select id="categoriaClasificado">
                        <option value="0" selected disabled>Seleccione</option>
                        <option value="1">Casa</option>
                        <option value="2">Apartamento</option>
                        <option value="3">Lote</option>
                        <option value="4">Parqueadero</option>
                        <option value="5">Vehículo</option>
                        <option value="6">Servicios</option>
                        <option value="7">Otros</option>
                    </select>
                </p>
                <p>
                    <label>Titulo:</label>
                    <ons-input autocomplete="off" autocorrect="off" autocapitalize="on" modifier="underbar"></ons-input>
                </p>
                <p>
                    <ons-row>
                        <ons-col width="80px" vertical-align="center">
                            <label>Valor:</label>
                        </ons-col>
                        <ons-col>
                            <ons-input autocomplete="off" autocorrect="off" autocapitalize="on" modifier="underbar">
                            </ons-input>
                        </ons-col>
                    </ons-row>
                </p>
                <p>
                    <ons-row>
                        <ons-col width="80px" vertical-align="center">
                            <label>Telefono:</label>
                        </ons-col>
                        <ons-col>
                            <ons-input autocomplete="off" autocorrect="off" autocapitalize="on" modifier="underbar">
                            </ons-input>
                        </ons-col>
                    </ons-row>
                </p>
                <p>
                    <label>Descripción:</label>
                    <textarea class="textarea" rows="6"></textarea>
                </p>
                <p>
                    <!-- <input id="files" type="file" /> -->
                    <ons-carousel swipeable auto-scroll overscrollable id="carouselImages">
                        <ons-carousel-item>
                            <input id="files" type="file" class="input-file" />
                            <label for="files">
                            </label>
                        </ons-carousel-item>
                    </ons-carousel>
                </p>
                <ons-button id="btnVerFactura" modifier="large" style="padding: 24px 0!important;">
                    <ons-icon size="18px" icon="fa-clipboard-list" style="margin-right: 8px;"></ons-icon>
                    Consultar
                </ons-button>
            </div>
        </ons-card>
    </main>
    <script>
        ons.getScriptPage().onInit = function () {
            //     console.log('Crear clasificado')
            //     var conjuntosSelect = $('#conjuntos'),
            //         conjuntosActual = [];
            //     $_PROPIEDADES.forEach(element => {
            //         conjuntosActual = [];
            //         let opciones = $('#conjuntos option')
            //         for (var i = 0; i < opciones.length; i++)
            //             conjuntosActual.push($(opciones[i]).val())

            //         let busqueda = conjuntosActual.find(nit => nit == element.nitConjunto)

            //         if (busqueda == null) {
            //             let obj = $('<option />',
            //                 {
            //                     html: element.descripConjunto,
            //                     value: element.nitConjunto
            //                 }
            //             ).appendTo(conjuntosSelect);
            //         }
            //     });
        };

        ons.getScriptPage().onInit = function () {
            if (window.File && window.FileList && window.FileReader) {
                $(document).on('change', '.input-file', function (e) {
                    var file = e.target.files[0],
                        el = e.target;
                    var picReader = new FileReader();
                    console.log(files)
                    if (!file.type.match('image.*')) {
                        sendToast('Solo puedes seleccionar imagenes');
                        $(el).val('');
                    } else if (file.size > 2097152) {
                        sendToast('La imagen es superior a 2MB');
                        $(el).val('');
                    } else {
                        console.log(picReader)
                        picReader.onload = function (event) {
                            console.log(event)
                        };
                    }
                })
            }
        }
    </script>
</ons-page>